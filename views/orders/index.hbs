{{#extends 'base'}}

{{#block 'title'}}
Orders
{{/block}}

{{#block 'content'}}
<header class="">
    <h1>Orders Administration</h1>
    <p>All Orders from eCommerce Shop</p>
</header>

<table class="table">
    <thead>
        <tr>
            <th>ID</th>
            <th>Order Date</th>
            <th>Customer Name</th>
            <th>Delivery Address</th>
            <th>Delivery Date</th>
            <th>Total Amount</th>
            <th>Order Status</th>
            <th>Payment Status</th>
            <th>For Your Actions</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        {{#each orders}}
            <tr>
                <td>{{this.id}}</td>
                <td>{{this.orderDateStr}}</td>
                <td>{{this.customer.last_name}}, {{this.customer.first_name}}</td>
                <td>{{this.delivery_address}}</td>
                <td>{{this.deliveryDateStr}}</td>
                <td>$ {{this.orderTotalAmountStr}}</td>
                <td>{{this.order_status}}</td>
                <td>{{this.payment_status}}</td>

                <td>
                    {{#if this.isBtnShowProcessing}}
                        <a href="/orders/{{this.id}}/set-status/Processing" class="btn btn-secondary btn-sm">Check Stock</a>
                    {{/if}}
                    {{#if this.isBtnShowDelivering}}
                        <a href="/orders/{{this.id}}/set-status/Delivering" class="btn btn-primary btn-sm">Deliver</a>
                    {{/if}}
                    {{#if this.isBtnShowComplete}}
                        <a href="/orders/{{this.id}}/set-status/Complete" class="btn btn-success btn-sm">Complete</a>
                    {{/if}}

                </td>
                <td>
                    <a href="/orders/{{this.id}}/update" class="btn btn-dark btn-sm">Edit</a>
                    <a href="/orders/{{this.id}}/delete" class="btn btn-danger btn-sm">Delete</a>
                </td>
            </tr>
        {{/each}}
    </tbody>
</table>

{{/block}}

{{/extends}}